примерный вариант отмены для бесконечного режима (infinite)
запоминается каждая верхняя строка(перед сдвигом вниз), если позиция не генерируется, то это место = 0 (уточнить)
при восстановлении - нулевые места игнорируются, остальные заполняются как должны

* возможно потребуется некоторое изменение генератора


для режима endless - примерно так же, но ввиду его реальной бесконечности можно вообще выпилить оттуда
любую отмену (или оставить как есть сейчас, но тогда эти два режима должны быть реализованы отдельно).

для любых бесконечных режимов сделать отмену только одного хода (для endless - точно)